(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[206],{7133:function(e,t,a){Promise.resolve().then(a.bind(a,337))},3639:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2660:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1723:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3113:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},5863:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6595:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},8930:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},337:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var s=a(7437),d=a(2265),n=a(7648),r=a(9376),i=a(6595),o=a(1047),l=a(1723),c=a(9763);let m=(0,c.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);var x=a(5863),u=a(8930),h=a(2660);let f=(0,c.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var g=a(3639),p=a(3113);let y=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),b=e=>{let[t,a]=e.split(":"),s=new Date;return s.setHours(parseInt(t,10)),s.setMinutes(parseInt(a,10)),s.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"America/Chicago"})};function j(){let e=(0,r.useRouter)(),[t,a]=(0,d.useState)([]),[c,j]=(0,d.useState)(!0),[w,v]=(0,d.useState)(null),[k,N]=(0,d.useState)(null),Z=(0,d.useCallback)(async()=>{j(!0),v(null);try{let e=await fetch("/api/events");if(!e.ok)throw Error("Failed to fetch events");let t=await e.json();t.sort((e,t)=>e.featured&&!t.featured?-1:!e.featured&&t.featured?1:new Date(t.date).getTime()-new Date(e.date).getTime()),a(t)}catch(e){v(e instanceof Error?e.message:"An unknown error occurred"),console.error("Error fetching events:",e)}finally{j(!1)}},[]);(0,d.useEffect)(()=>{Z()},[Z]);let z=async e=>{if(confirm("Are you sure you want to delete this event? This action cannot be undone.")){N(e);try{let t=await fetch("/api/events/".concat(e),{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.message||"Failed to delete event")}a(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error deleting event:",e),alert("Error deleting event: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{N(null)}}},E=t=>{e.push("/admin/edit-event/".concat(t))},M=new Date,_=t.filter(e=>new Date(e.date)>=M).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()),D=t.filter(e=>new Date(e.date)<M),S=e=>{let{event:t,isPast:a}=e;return(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-700/50 rounded-xl shadow-xl hover:shadow-twisted-neon/30 transition-all duration-300 ease-in-out flex flex-col overflow-hidden ".concat(a?"opacity-60 hover:opacity-80":""),"data-oid":"hhjfhxx",children:[t.imageUrl&&(0,s.jsxs)("div",{className:"relative h-48 w-full overflow-hidden","data-oid":"7tbgai-",children:[(0,s.jsx)("img",{src:t.imageUrl,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105","data-oid":"jd51y8m"}),t.featured&&!a&&(0,s.jsxs)("span",{className:"absolute top-2 right-2 inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-twisted-neon text-black shadow-md","data-oid":"p50-khr",children:[(0,s.jsx)(i.Z,{size:14,className:"mr-1","data-oid":"srgtt4-"})," Featured"]})]}),!t.imageUrl&&t.featured&&!a&&(0,s.jsxs)("span",{className:"absolute top-2 right-2 inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-twisted-neon text-black shadow-md z-10 m-2","data-oid":"q5br16_",children:[(0,s.jsx)(i.Z,{size:14,className:"mr-1","data-oid":"y84t3xv"})," Featured"]}),(0,s.jsxs)("div",{className:"p-5 flex flex-col flex-grow","data-oid":"b:.o3tl",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-twisted-neon mb-2 truncate",title:t.title,"data-oid":"_ylw:e:",children:t.title}),(0,s.jsxs)("div",{className:"text-sm text-gray-400 mb-3 space-y-1","data-oid":"9:p7ck5",children:[(0,s.jsxs)("p",{className:"flex items-center","data-oid":"-tr-:bd",children:[(0,s.jsx)(o.Z,{size:14,className:"mr-2 text-twisted-neon/80","data-oid":"fe1mu3x"})," ",y(t.date)]}),t.time&&(0,s.jsxs)("p",{className:"flex items-center","data-oid":"yk5v7:g",children:[(0,s.jsx)(l.Z,{size:14,className:"mr-2 text-twisted-neon/80","data-oid":"gmd.5qn"})," ",b(t.time)]})]}),(t.djs||t.specials)&&(0,s.jsxs)("div",{className:"mb-4 text-xs space-y-1","data-oid":"jrp6eq0",children:[t.djs&&(0,s.jsxs)("p",{className:"text-gray-400","data-oid":"ei48drj",children:[(0,s.jsx)("strong",{className:"text-gray-100","data-oid":"5uukb4:",children:"DJs:"})," ",t.djs]}),t.specials&&(0,s.jsxs)("p",{className:"text-gray-400","data-oid":"j48yng:",children:[(0,s.jsx)("strong",{className:"text-gray-100","data-oid":"v1d00o:",children:"Specials:"})," ",t.specials]})]}),(0,s.jsxs)("div",{className:"mt-auto pt-4 border-t border-gray-700/50 flex space-x-2","data-oid":"_.wj7uy",children:[(0,s.jsxs)("button",{onClick:()=>E(t.id),className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-twisted-neon/70 rounded-md shadow-sm text-sm font-medium text-twisted-neon bg-transparent hover:bg-twisted-neon/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-twisted-neon transition-colors duration-150","data-oid":"8304c9y",children:[(0,s.jsx)(m,{size:16,className:"mr-2","data-oid":"54h-d:9"})," Edit"]}),(0,s.jsx)("button",{onClick:()=>z(t.id),disabled:k===t.id,className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-red-500/70 rounded-md shadow-sm text-sm font-medium text-red-400 bg-transparent transition-colors duration-150 ".concat(k===t.id?"opacity-50 cursor-not-allowed":"hover:bg-red-500/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-red-500"),"data-oid":"exh-0in",children:k===t.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,{size:16,className:"mr-2 animate-spin","data-oid":":ys-5lt"})," ","Deleting..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{size:16,className:"mr-2","data-oid":"sfz7zu4"})," Delete"]})})]})]})]})};return(0,s.jsx)("div",{className:"min-h-screen bg-black text-white p-4 md:p-8 font-sans mt-16","data-oid":"5n5s3nq",children:(0,s.jsxs)("div",{className:"container mx-auto max-w-7xl","data-oid":"63n2rit",children:[(0,s.jsxs)("header",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 pb-4 border-b border-gray-700/50","data-oid":"10_kvn3",children:[(0,s.jsxs)(n.default,{href:"/admin",className:"inline-flex items-center text-twisted-neon hover:text-twisted-neon/80 text-sm font-medium mb-4 sm:mb-0 transition-colors duration-150 group","data-oid":"dzirz7_",children:[(0,s.jsx)(h.Z,{size:18,className:"mr-2 group-hover:-translate-x-1 transition-transform duration-200","data-oid":"8:65-o6"}),"Back to Admin Dashboard"]}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-twisted-neon uppercase tracking-wider","data-oid":"nnc9goj",children:"Manage Events"}),(0,s.jsxs)(n.default,{href:"/admin/create-event",className:"inline-flex items-center bg-twisted-neon hover:bg-twisted-neon/80 text-black font-semibold py-2.5 px-6 rounded-lg shadow-lg hover:shadow-twisted-neon/40 transition-all duration-300 transform hover:scale-105 text-sm mt-4 sm:mt-0","data-oid":"s20dddy",children:[(0,s.jsx)(f,{size:18,className:"mr-2","data-oid":"ik5r-c4"}),"Create New Event"]})]}),c&&(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center p-10 text-twisted-neon bg-gray-800/50 rounded-lg shadow-xl","data-oid":"_r1bcj9",children:[(0,s.jsx)(x.Z,{className:"h-12 w-12 mb-4 animate-spin","data-oid":"-z13:4-"}),(0,s.jsx)("p",{className:"text-lg","data-oid":"d98mk-_",children:"Loading events..."})]}),w&&(0,s.jsxs)("div",{className:"p-6 mb-8 rounded-lg text-sm bg-red-900/50 text-red-300 border border-red-700 flex items-center shadow-lg","data-oid":"38t8p5:",children:[(0,s.jsx)(g.Z,{size:20,className:"mr-3 text-red-400","data-oid":"w.yw13t"}),(0,s.jsxs)("div",{"data-oid":":2-dy-n",children:[(0,s.jsx)("h3",{className:"font-semibold text-base mb-1","data-oid":"bh_liet",children:"Error Fetching Events"}),(0,s.jsx)("p",{"data-oid":"zjqq0wh",children:w})]})]}),!c&&!w&&(0,s.jsxs)("div",{className:"space-y-12","data-oid":":o0rdtd",children:[(0,s.jsxs)("section",{"data-oid":"_d0y73t",children:[(0,s.jsxs)("h2",{className:"text-3xl font-semibold mb-6 text-twisted-neon border-b-2 border-twisted-neon/30 pb-2","data-oid":"1nuh9v4",children:["Upcoming Events (",_.length,")"]}),_.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6","data-oid":"x:smiy1",children:_.map(e=>(0,s.jsx)(S,{event:e,"data-oid":"xbyxe.o"},e.id))}):(0,s.jsxs)("div",{className:"text-center text-gray-400 p-8 bg-gray-900/70 rounded-lg shadow-md border border-gray-700/50","data-oid":"yypl9-6",children:[(0,s.jsx)(p.Z,{size:48,className:"mx-auto mb-4 text-gray-500","data-oid":"_.4.fpv"}),(0,s.jsx)("p",{className:"text-lg","data-oid":"wwzre1s",children:"No upcoming events found."}),(0,s.jsx)("p",{className:"text-sm","data-oid":"y.jsfoq",children:"Why not create one?"})]})]}),(0,s.jsxs)("section",{"data-oid":"h-qrjdv",children:[(0,s.jsxs)("h2",{className:"text-3xl font-semibold mb-6 text-twisted-neon border-b-2 border-twisted-neon/30 pb-2","data-oid":"xo4r.-d",children:["Past Events (",D.length,")"]}),D.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6","data-oid":"h5ao4q2",children:D.map(e=>(0,s.jsx)(S,{event:e,isPast:!0,"data-oid":"u27gnva"},e.id))}):(0,s.jsxs)("div",{className:"text-center text-gray-400 p-8 bg-gray-900/70 rounded-lg shadow-md border border-gray-700/50","data-oid":"vxx36eb",children:[(0,s.jsx)(o.Z,{size:48,className:"mx-auto mb-4 text-gray-500","data-oid":"wbodiks"}),(0,s.jsx)("p",{className:"text-lg","data-oid":"j54k1-1",children:"No past events yet."})]})]})]})]})})}}},function(e){e.O(0,[451,971,117,744],function(){return e(e.s=7133)}),_N_E=e.O()}]);