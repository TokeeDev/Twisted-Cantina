(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[372],{4561:function(e,t,a){Promise.resolve().then(a.bind(a,9849))},2660:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5252:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},3245:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},8553:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(9763).Z)("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]])},9849:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var r=a(7437),d=a(2265),i=a(9763);let s=(0,i.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var o=a(8553),l=a(5252);let n=(0,i.Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var c=a(3245);let{useUploadThing:u}=(0,a(3482).g)();var m=e=>{let{onSuccess:t}=e,[a,i]=(0,d.useState)(""),[m,x]=(0,d.useState)(""),[g,p]=(0,d.useState)(""),[h,f]=(0,d.useState)(""),[b,y]=(0,d.useState)(null),[w,v]=(0,d.useState)(""),[j,k]=(0,d.useState)(!1),[N,z]=(0,d.useState)({text:"",type:""});(0,d.useEffect)(()=>()=>{w&&URL.revokeObjectURL(w)},[w]);let{startUpload:M,isUploading:q}=u("imageUploader",{onClientUploadComplete:async e=>{if(!e||0===e.length){z({text:"Image upload failed or returned no URL.",type:"error"}),k(!1);return}let t=e[0].url;console.log("Image uploaded successfully:",t),await C(t)},onUploadError:e=>{console.error("Error uploading image:",e),z({text:"Error uploading image: ".concat(e.message),type:"error"}),k(!1)},onUploadBegin:()=>{z({text:"Uploading image...",type:"info"})}}),U=()=>{i(""),x(""),p(""),f(""),y(null),w&&URL.revokeObjectURL(w),v(""),z({text:"",type:""}),k(!1)},C=async e=>{z({text:"Submitting menu item data...",type:"info"});try{let r=await fetch("/api/menu-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,description:m,price:g,category:h,imageUrl:e})});if(!r.ok){let e=await r.json();throw Error(e.message||"HTTP error! status: ".concat(r.status))}z({text:"Menu item created successfully!",type:"success"}),U(),t&&t()}catch(t){console.error("Error submitting menu item:",t);let e=t instanceof Error?t.message:"An unknown error occurred";z({text:"Error creating menu item: ".concat(e),type:"error"})}finally{k(!1)}},S=async e=>{if(e.preventDefault(),!a||!g){z({text:"Name and Price are required fields.",type:"error"});return}if(!b){z({text:"Please upload a menu item image.",type:"error"});return}k(!0),z({text:"Starting submission process...",type:"info"});try{await M([b])}catch(e){console.error("Error initiating upload:",e),z({text:"Error starting upload process.",type:"error"}),k(!1)}};return(0,r.jsxs)("div",{className:"w-full max-w-2xl mx-auto p-6 md:p-8 bg-gray-800/50 rounded-lg shadow-xl border border-gray-700","data-oid":"_vxkqk6",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-6 text-twisted-neon","data-oid":"wms2u7_",children:"Add New Menu Item"}),N.text&&(0,r.jsx)("div",{className:"mb-6 rounded-md p-3 text-sm text-center ".concat("success"===N.type?"bg-green-600/30 text-green-300 border border-green-500":"error"===N.type?"bg-red-600/30 text-red-300 border border-red-500":"bg-blue-600/30 text-blue-300 border border-blue-500"),"data-oid":"5zuriz7",children:N.text}),(0,r.jsxs)("form",{onSubmit:S,className:"grid grid-cols-1 gap-6","data-oid":"oe6rl_h",children:[(0,r.jsxs)("div",{"data-oid":"piyh0_f",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2","data-oid":"0..ec61",children:"Item Image *"}),(0,r.jsx)("div",{className:"relative mb-2 aspect-square w-full max-w-xs mx-auto overflow-hidden rounded-lg border-2 border-dashed border-gray-600 bg-gray-700/50","data-oid":"4f4c:zf",children:w?(0,r.jsx)("img",{src:w,alt:"Menu item preview",className:"h-full w-full object-cover","data-oid":"3__l04u"}):(0,r.jsxs)("div",{className:"flex h-full flex-col items-center justify-center p-4 text-center text-gray-500","data-oid":"6-elepo",children:[(0,r.jsx)(s,{size:40,className:"mb-2","data-oid":"8bmny2i"}),(0,r.jsx)("span",{"data-oid":"t:-.rjq",children:"Image Preview"})]})}),(0,r.jsx)("label",{htmlFor:"image-upload",className:"block w-full max-w-xs mx-auto cursor-pointer rounded-md bg-twisted-neon px-4 py-2 text-center text-sm font-semibold text-black transition hover:bg-twisted-neon/80","data-oid":"bou_79y",children:b?"Change Image":"Select Image"}),(0,r.jsx)("input",{id:"image-upload",type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];y(t),w&&URL.revokeObjectURL(w),v(URL.createObjectURL(t))}},className:"hidden",required:!0,"data-oid":"1kkbp0b"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6","data-oid":"j6rmw5a",children:[(0,r.jsxs)("div",{"data-oid":"w0l..w:",children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1","data-oid":"kc:sh83",children:"Name *"}),(0,r.jsxs)("div",{className:"relative","data-oid":"wgrswjl",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500","data-oid":"lxh53jx",children:(0,r.jsx)(o.Z,{size:16,"data-oid":"dxdfy1p"})}),(0,r.jsx)("input",{type:"text",id:"name",value:a,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-3 py-2 rounded-md bg-gray-700 border border-gray-600 text-white focus:ring-1 focus:ring-twisted-neon focus:border-twisted-neon",required:!0,"data-oid":"c:zbn0:"})]})]}),(0,r.jsxs)("div",{"data-oid":"ag4tdc.",children:[(0,r.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-300 mb-1","data-oid":"9vkwd4-",children:"Price *"}),(0,r.jsxs)("div",{className:"relative","data-oid":"7g.5ee_",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500","data-oid":".:d.g.3",children:(0,r.jsx)(l.Z,{size:16,"data-oid":"603_hg2"})}),(0,r.jsx)("input",{type:"text",id:"price",value:g,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-3 py-2 rounded-md bg-gray-700 border border-gray-600 text-white focus:ring-1 focus:ring-twisted-neon focus:border-twisted-neon",placeholder:"e.g., $12.99 or Market Price",required:!0,"data-oid":"g4:4j9l"})]})]})]}),(0,r.jsxs)("div",{"data-oid":"ivhvpko",children:[(0,r.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-300 mb-1","data-oid":"ewdb-wz",children:"Category"}),(0,r.jsxs)("div",{className:"relative","data-oid":"mz1uqwd",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500","data-oid":"oie64s0",children:(0,r.jsx)(n,{size:16,"data-oid":"x:38fhu"})}),(0,r.jsx)("input",{type:"text",id:"category",value:h,onChange:e=>f(e.target.value),className:"w-full pl-10 pr-3 py-2 rounded-md bg-gray-700 border border-gray-600 text-white focus:ring-1 focus:ring-twisted-neon focus:border-twisted-neon",placeholder:"e.g., Appetizers, Main Courses, Drinks","data-oid":"k357514"})]})]}),(0,r.jsxs)("div",{"data-oid":"ou1li:m",children:[(0,r.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300 mb-1","data-oid":"j-6z1rr",children:"Description"}),(0,r.jsxs)("div",{className:"relative","data-oid":"6ku21uu",children:[(0,r.jsx)("span",{className:"absolute top-3 left-0 flex items-center pl-3 text-gray-500","data-oid":"5rcd5x2",children:(0,r.jsx)(c.Z,{size:16,"data-oid":"llq2.7q"})}),(0,r.jsx)("textarea",{id:"description",rows:4,value:m,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-3 py-2 rounded-md bg-gray-700 border border-gray-600 text-white focus:ring-1 focus:ring-twisted-neon focus:border-twisted-neon",placeholder:"Optional: Add details about the item...","data-oid":":zdv6:-"})]})]}),(0,r.jsx)("div",{className:"mt-4","data-oid":"aotqm6a",children:(0,r.jsx)("button",{type:"submit",disabled:j||q,className:"w-full px-6 py-3 rounded-md font-semibold text-black transition duration-200 flex items-center justify-center ".concat(j||q?"bg-gray-500 cursor-not-allowed":"bg-twisted-neon hover:bg-twisted-neon/80"),"data-oid":"sw50vjb",children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","data-oid":"t0iitwf",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4","data-oid":":izzi1z"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z","data-oid":"x6tzdrf"})]}),N.text.includes("Uploading")?"Uploading...":"Submitting..."]}):"Add Menu Item"})})]})]})},x=a(7648),g=a(2660);function p(){return(0,r.jsx)("div",{className:"min-h-screen bg-black text-white p-4 md:p-8","data-oid":"kdtdlqv",children:(0,r.jsxs)("div",{className:"container mx-auto max-w-3xl","data-oid":"z3v6w5p",children:[(0,r.jsxs)(x.default,{href:"/admin",className:"inline-flex items-center text-twisted-neon hover:text-twisted-neon/80 mb-6 text-sm","data-oid":"_q8krth",children:[(0,r.jsx)(g.Z,{size:16,className:"mr-1","data-oid":"um8rkrt"}),"Back to Admin Dashboard"]}),(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center text-twisted-neon","data-oid":"ti:e4ll",children:"Manage Menu Items"}),(0,r.jsx)(m,{onSuccess:()=>{console.log("Menu item created successfully from admin page!")},"data-oid":"qc88d9z"})]})})}}},function(e){e.O(0,[451,482,971,117,744],function(){return e(e.s=4561)}),_N_E=e.O()}]);